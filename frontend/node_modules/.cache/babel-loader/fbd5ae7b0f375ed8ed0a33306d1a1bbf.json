{"ast":null,"code":"var _jsxFileName = \"D:\\\\Huntys Git\\\\NurseryReactApp\\\\frontend\\\\src\\\\components\\\\Product.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Rating from './Rating';\nimport { Link } from \"react-router-dom\";\nimport { Store } from '../Store';\nimport { useContext } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Product(props) {\n  _s();\n\n  const {\n    product\n  } = props;\n  const {\n    state,\n    dispatch: ctxDispatch\n  } = useContext(Store);\n  const {\n    cart: {\n      cartItems\n    }\n  } = state;\n\n  const addToCartHandler = async item => {\n    const existItem = cartItems.find(x => x._id === product.id);\n    const quantity = existItem ? existItem.quantity + 1 : 1;\n    const {\n      data\n    } = await axios.get(`/api/products/${item.id}`);\n\n    if (data.countInStock < quantity) {\n      window.alert('Sorry. Product is out of stock');\n      return;\n    }\n\n    ctxDispatch({\n      type: 'CART_ADD_ITEM',\n      payload: { ...item,\n        quantity\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: /*#__PURE__*/_jsxDEV(Link, {\n      to: `/products/${product.categorySlug}/${product.slug}`,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: product.image,\n        className: \"card-img-top\",\n        alt: product.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"medium\",\n          src: product.image,\n          alt: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Rating, {\n          rating: product.rating,\n          numReviews: product.numReviews\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"price\",\n          children: [\"$\", product.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)\n  }, product._id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Product, \"XDbruNh/h18/KyvLzI/kuU/R8wE=\");\n\n_c = Product;\n\nvar _c;\n\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"names":["React","Rating","Link","Store","useContext","axios","Product","props","product","state","dispatch","ctxDispatch","cart","cartItems","addToCartHandler","item","existItem","find","x","_id","id","quantity","data","get","countInStock","window","alert","type","payload","categorySlug","slug","image","name","rating","numReviews","price"],"sources":["D:/Huntys Git/NurseryReactApp/frontend/src/components/Product.js"],"sourcesContent":["import React from 'react';\r\nimport Rating from './Rating';\r\nimport { Link } from \"react-router-dom\";\r\nimport { Store } from '../Store';\r\nimport { useContext } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default function Product(props) {\r\n  const { product } = props;\r\n\r\n  const { state, dispatch: ctxDispatch } = useContext(Store);\r\n  const {\r\n    cart: { cartItems },\r\n  } = state;\r\n\r\n  const addToCartHandler = async (item) => {\r\n    const existItem = cartItems.find((x) => x._id === product.id);\r\n    const quantity = existItem ? existItem.quantity + 1 : 1;\r\n    const { data } = await axios.get(`/api/products/${item.id}`);\r\n    if (data.countInStock < quantity) {\r\n      window.alert('Sorry. Product is out of stock');\r\n      return;\r\n    }\r\n    ctxDispatch({\r\n      type: 'CART_ADD_ITEM',\r\n      payload: { ...item, quantity },\r\n    });\r\n  }; \r\n  return (\r\n    <div key={product._id} className=\"card\">\r\n      <Link to={`/products/${product.categorySlug}/${product.slug}`} >\r\n        <img src={product.image} className=\"card-img-top\" alt={product.name} />\r\n      <div>\r\n        <img className= \"medium\" src={product.image} alt={product.name} />\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <div>\r\n          <h2>{product.name}</h2>\r\n        </div>\r\n        <Rating\r\n          rating={product.rating}\r\n          numReviews={product.numReviews}\r\n        ></Rating>\r\n        <div className=\"price\">${product.price}</div>\r\n      </div>\r\n      </Link>\r\n    </div>\r\n\r\n  );\r\n}"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,KAAT,QAAsB,UAAtB;AACA,SAASC,UAAT,QAA2B,OAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,eAAe,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;EAAA;;EACrC,MAAM;IAAEC;EAAF,IAAcD,KAApB;EAEA,MAAM;IAAEE,KAAF;IAASC,QAAQ,EAAEC;EAAnB,IAAmCP,UAAU,CAACD,KAAD,CAAnD;EACA,MAAM;IACJS,IAAI,EAAE;MAAEC;IAAF;EADF,IAEFJ,KAFJ;;EAIA,MAAMK,gBAAgB,GAAG,MAAOC,IAAP,IAAgB;IACvC,MAAMC,SAAS,GAAGH,SAAS,CAACI,IAAV,CAAgBC,CAAD,IAAOA,CAAC,CAACC,GAAF,KAAUX,OAAO,CAACY,EAAxC,CAAlB;IACA,MAAMC,QAAQ,GAAGL,SAAS,GAAGA,SAAS,CAACK,QAAV,GAAqB,CAAxB,GAA4B,CAAtD;IACA,MAAM;MAAEC;IAAF,IAAW,MAAMjB,KAAK,CAACkB,GAAN,CAAW,iBAAgBR,IAAI,CAACK,EAAG,EAAnC,CAAvB;;IACA,IAAIE,IAAI,CAACE,YAAL,GAAoBH,QAAxB,EAAkC;MAChCI,MAAM,CAACC,KAAP,CAAa,gCAAb;MACA;IACD;;IACDf,WAAW,CAAC;MACVgB,IAAI,EAAE,eADI;MAEVC,OAAO,EAAE,EAAE,GAAGb,IAAL;QAAWM;MAAX;IAFC,CAAD,CAAX;EAID,CAZD;;EAaA,oBACE;IAAuB,SAAS,EAAC,MAAjC;IAAA,uBACE,QAAC,IAAD;MAAM,EAAE,EAAG,aAAYb,OAAO,CAACqB,YAAa,IAAGrB,OAAO,CAACsB,IAAK,EAA5D;MAAA,wBACE;QAAK,GAAG,EAAEtB,OAAO,CAACuB,KAAlB;QAAyB,SAAS,EAAC,cAAnC;QAAkD,GAAG,EAAEvB,OAAO,CAACwB;MAA/D;QAAA;QAAA;QAAA;MAAA,QADF,eAEA;QAAA,uBACE;UAAK,SAAS,EAAE,QAAhB;UAAyB,GAAG,EAAExB,OAAO,CAACuB,KAAtC;UAA6C,GAAG,EAAEvB,OAAO,CAACwB;QAA1D;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QAFA,eAKA;QAAK,SAAS,EAAC,WAAf;QAAA,wBACE;UAAA,uBACE;YAAA,UAAKxB,OAAO,CAACwB;UAAb;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA,QADF,eAIE,QAAC,MAAD;UACE,MAAM,EAAExB,OAAO,CAACyB,MADlB;UAEE,UAAU,EAAEzB,OAAO,CAAC0B;QAFtB;UAAA;UAAA;UAAA;QAAA,QAJF,eAQE;UAAK,SAAS,EAAC,OAAf;UAAA,gBAAyB1B,OAAO,CAAC2B,KAAjC;QAAA;UAAA;UAAA;UAAA;QAAA,QARF;MAAA;QAAA;QAAA;QAAA;MAAA,QALA;IAAA;MAAA;MAAA;MAAA;IAAA;EADF,GAAU3B,OAAO,CAACW,GAAlB;IAAA;IAAA;IAAA;EAAA,QADF;AAqBD;;GA1CuBb,O;;KAAAA,O"},"metadata":{},"sourceType":"module"}